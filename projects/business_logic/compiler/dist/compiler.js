"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const file_system_1 = require("file_system");
const input_1 = require("./phases/input");
const plugin_phase_1 = require("./phases/plugin_phase");
class Compiler {
    async compile(selectedProjects, allProjects, context, args) {
        let compileModel = {
            projectsBuildData: selectedProjects.map((p) => {
                const mlfs = new file_system_1.FileSystemMutationLogger(new file_system_1.MemoryFileSystem());
                const fs = new file_system_1.CachedFileSystem(context.fileSystem, mlfs);
                return {
                    bundle: this.getBundle(p, args),
                    projectDependencies: new Set(),
                    allProjects,
                    selectedProjects,
                    project: p,
                    input: [],
                    get output() {
                        return Array.from(mlfs.writtenFiles);
                    },
                    fileSystem: fs
                };
            })
        };
        compileModel = await plugin_phase_1.pluginBasedPhase('init', compileModel, context);
        compileModel = await input_1.inputPhase(compileModel, context);
        compileModel = await plugin_phase_1.pluginBasedPhase('link', compileModel, context);
        this.sortByDependencies(compileModel, selectedProjects);
        compileModel = await plugin_phase_1.pluginBasedPhase('preProcess', compileModel, context);
        compileModel = await plugin_phase_1.pluginBasedChainedPhase(['compile', 'postProcess', { name: 'emit', defaultPlugins: ['output'] }], compileModel, context);
    }
    sortByDependencies(compileModel, selectedProjects) {
        const order = [];
        while (compileModel.projectsBuildData.length > 0) {
            let circle = true;
            for (let i = compileModel.projectsBuildData.length - 1; i >= 0; i--) {
                if (this.hasAll(compileModel.projectsBuildData[i].projectDependencies, selectedProjects, order)) {
                    order.push(compileModel.projectsBuildData[i]);
                    compileModel.projectsBuildData.splice(i, 1);
                    circle = false;
                }
            }
            if (circle) {
                throw new Error('Circular dependency in project dependencies');
            }
        }
        compileModel.projectsBuildData = order;
    }
    hasAll(projectDependencies, selectedProjects, order) {
        for (const p of projectDependencies) {
            if (!selectedProjects.includes(p)) {
                continue;
            }
            let has = false;
            for (const o of order) {
                if (o.project === p) {
                    has = true;
                    break;
                }
            }
            if (!has) {
                return false;
            }
        }
        return true;
    }
    getBundle(project, args) {
        const bundles = Object.keys(project.resolvedConfig.build.bundles);
        let defaultBundle;
        for (const bundle of bundles) {
            if (args.map[bundle] === true) {
                return bundle;
            }
            if (project.resolvedConfig.build.bundles[bundle].default) {
                defaultBundle = bundle;
            }
        }
        if (defaultBundle) {
            return defaultBundle;
        }
        else if (bundles.length === 1) {
            return bundles[0];
        }
        else {
            throw new Error(`No bundle could be determined for project ${project} please define a default or state the bundle to be used with a CLI flag`);
        }
    }
}
exports.Compiler = Compiler;
exports.compiler = new Compiler();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBpbGVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiY29tcGlsZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBmaWxlX3N5c3RlbV8xID0gcmVxdWlyZShcImZpbGVfc3lzdGVtXCIpO1xuY29uc3QgaW5wdXRfMSA9IHJlcXVpcmUoXCIuL3BoYXNlcy9pbnB1dFwiKTtcbmNvbnN0IHBsdWdpbl9waGFzZV8xID0gcmVxdWlyZShcIi4vcGhhc2VzL3BsdWdpbl9waGFzZVwiKTtcbmNsYXNzIENvbXBpbGVyIHtcbiAgICBhc3luYyBjb21waWxlKHNlbGVjdGVkUHJvamVjdHMsIGFsbFByb2plY3RzLCBjb250ZXh0LCBhcmdzKSB7XG4gICAgICAgIGxldCBjb21waWxlTW9kZWwgPSB7XG4gICAgICAgICAgICBwcm9qZWN0c0J1aWxkRGF0YTogc2VsZWN0ZWRQcm9qZWN0cy5tYXAoKHApID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtbGZzID0gbmV3IGZpbGVfc3lzdGVtXzEuRmlsZVN5c3RlbU11dGF0aW9uTG9nZ2VyKG5ldyBmaWxlX3N5c3RlbV8xLk1lbW9yeUZpbGVTeXN0ZW0oKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZnMgPSBuZXcgZmlsZV9zeXN0ZW1fMS5DYWNoZWRGaWxlU3lzdGVtKGNvbnRleHQuZmlsZVN5c3RlbSwgbWxmcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgYnVuZGxlOiB0aGlzLmdldEJ1bmRsZShwLCBhcmdzKSxcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdERlcGVuZGVuY2llczogbmV3IFNldCgpLFxuICAgICAgICAgICAgICAgICAgICBhbGxQcm9qZWN0cyxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRQcm9qZWN0cyxcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdDogcCxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IFtdLFxuICAgICAgICAgICAgICAgICAgICBnZXQgb3V0cHV0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmZyb20obWxmcy53cml0dGVuRmlsZXMpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmaWxlU3lzdGVtOiBmc1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgICBjb21waWxlTW9kZWwgPSBhd2FpdCBwbHVnaW5fcGhhc2VfMS5wbHVnaW5CYXNlZFBoYXNlKCdpbml0JywgY29tcGlsZU1vZGVsLCBjb250ZXh0KTtcbiAgICAgICAgY29tcGlsZU1vZGVsID0gYXdhaXQgaW5wdXRfMS5pbnB1dFBoYXNlKGNvbXBpbGVNb2RlbCwgY29udGV4dCk7XG4gICAgICAgIGNvbXBpbGVNb2RlbCA9IGF3YWl0IHBsdWdpbl9waGFzZV8xLnBsdWdpbkJhc2VkUGhhc2UoJ2xpbmsnLCBjb21waWxlTW9kZWwsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLnNvcnRCeURlcGVuZGVuY2llcyhjb21waWxlTW9kZWwsIHNlbGVjdGVkUHJvamVjdHMpO1xuICAgICAgICBjb21waWxlTW9kZWwgPSBhd2FpdCBwbHVnaW5fcGhhc2VfMS5wbHVnaW5CYXNlZFBoYXNlKCdwcmVQcm9jZXNzJywgY29tcGlsZU1vZGVsLCBjb250ZXh0KTtcbiAgICAgICAgY29tcGlsZU1vZGVsID0gYXdhaXQgcGx1Z2luX3BoYXNlXzEucGx1Z2luQmFzZWRDaGFpbmVkUGhhc2UoWydjb21waWxlJywgJ3Bvc3RQcm9jZXNzJywgeyBuYW1lOiAnZW1pdCcsIGRlZmF1bHRQbHVnaW5zOiBbJ291dHB1dCddIH1dLCBjb21waWxlTW9kZWwsIGNvbnRleHQpO1xuICAgIH1cbiAgICBzb3J0QnlEZXBlbmRlbmNpZXMoY29tcGlsZU1vZGVsLCBzZWxlY3RlZFByb2plY3RzKSB7XG4gICAgICAgIGNvbnN0IG9yZGVyID0gW107XG4gICAgICAgIHdoaWxlIChjb21waWxlTW9kZWwucHJvamVjdHNCdWlsZERhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IGNpcmNsZSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gY29tcGlsZU1vZGVsLnByb2plY3RzQnVpbGREYXRhLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzQWxsKGNvbXBpbGVNb2RlbC5wcm9qZWN0c0J1aWxkRGF0YVtpXS5wcm9qZWN0RGVwZW5kZW5jaWVzLCBzZWxlY3RlZFByb2plY3RzLCBvcmRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgb3JkZXIucHVzaChjb21waWxlTW9kZWwucHJvamVjdHNCdWlsZERhdGFbaV0pO1xuICAgICAgICAgICAgICAgICAgICBjb21waWxlTW9kZWwucHJvamVjdHNCdWlsZERhdGEuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICBjaXJjbGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2lyY2xlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDaXJjdWxhciBkZXBlbmRlbmN5IGluIHByb2plY3QgZGVwZW5kZW5jaWVzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29tcGlsZU1vZGVsLnByb2plY3RzQnVpbGREYXRhID0gb3JkZXI7XG4gICAgfVxuICAgIGhhc0FsbChwcm9qZWN0RGVwZW5kZW5jaWVzLCBzZWxlY3RlZFByb2plY3RzLCBvcmRlcikge1xuICAgICAgICBmb3IgKGNvbnN0IHAgb2YgcHJvamVjdERlcGVuZGVuY2llcykge1xuICAgICAgICAgICAgaWYgKCFzZWxlY3RlZFByb2plY3RzLmluY2x1ZGVzKHApKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgaGFzID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG8gb2Ygb3JkZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoby5wcm9qZWN0ID09PSBwKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaGFzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBnZXRCdW5kbGUocHJvamVjdCwgYXJncykge1xuICAgICAgICBjb25zdCBidW5kbGVzID0gT2JqZWN0LmtleXMocHJvamVjdC5yZXNvbHZlZENvbmZpZy5idWlsZC5idW5kbGVzKTtcbiAgICAgICAgbGV0IGRlZmF1bHRCdW5kbGU7XG4gICAgICAgIGZvciAoY29uc3QgYnVuZGxlIG9mIGJ1bmRsZXMpIHtcbiAgICAgICAgICAgIGlmIChhcmdzLm1hcFtidW5kbGVdID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1bmRsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcm9qZWN0LnJlc29sdmVkQ29uZmlnLmJ1aWxkLmJ1bmRsZXNbYnVuZGxlXS5kZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdEJ1bmRsZSA9IGJ1bmRsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmYXVsdEJ1bmRsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRCdW5kbGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYnVuZGxlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBidW5kbGVzWzBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBidW5kbGUgY291bGQgYmUgZGV0ZXJtaW5lZCBmb3IgcHJvamVjdCAke3Byb2plY3R9IHBsZWFzZSBkZWZpbmUgYSBkZWZhdWx0IG9yIHN0YXRlIHRoZSBidW5kbGUgdG8gYmUgdXNlZCB3aXRoIGEgQ0xJIGZsYWdgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuQ29tcGlsZXIgPSBDb21waWxlcjtcbmV4cG9ydHMuY29tcGlsZXIgPSBuZXcgQ29tcGlsZXIoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaVkyOXRjR2xzWlhJdWFuTWlMQ0p6YjNWeVkyVlNiMjkwSWpvaUlpd2ljMjkxY21ObGN5STZXeUpqYjIxd2FXeGxjaTVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pT3p0QlFVRkJMRFpEUVVFeVJqdEJRVU16Uml3d1EwRkJORU03UVVGRE5VTXNkMFJCUVd0R08wRkJRMnhHTEUxQlFXRXNVVUZCVVR0SlFVTnFRaXhMUVVGTExFTkJRVU1zVDBGQlR5eERRVUZETEdkQ1FVRm5RaXhGUVVGRkxGZEJRVmNzUlVGQlJTeFBRVUZQTEVWQlFVVXNTVUZCU1R0UlFVTjBSQ3hKUVVGSkxGbEJRVmtzUjBGQlJ6dFpRVU5tTEdsQ1FVRnBRaXhGUVVGRkxHZENRVUZuUWl4RFFVRkRMRWRCUVVjc1EwRkJReXhEUVVGRExFTkJRVU1zUlVGQlJTeEZRVUZGTzJkQ1FVTXhReXhOUVVGTkxFbEJRVWtzUjBGQlJ5eEpRVUZKTEhORFFVRjNRaXhEUVVGRExFbEJRVWtzT0VKQlFXZENMRVZCUVVVc1EwRkJReXhEUVVGRE8yZENRVU5zUlN4TlFVRk5MRVZCUVVVc1IwRkJSeXhKUVVGSkxEaENRVUZuUWl4RFFVRkRMRTlCUVU4c1EwRkJReXhWUVVGVkxFVkJRVVVzU1VGQlNTeERRVUZETEVOQlFVTTdaMEpCUXpGRUxFOUJRVTg3YjBKQlEwZ3NUVUZCVFN4RlFVRkZMRWxCUVVrc1EwRkJReXhUUVVGVExFTkJRVU1zUTBGQlF5eEZRVUZGTEVsQlFVa3NRMEZCUXp0dlFrRkRMMElzYlVKQlFXMUNMRVZCUVVVc1NVRkJTU3hIUVVGSExFVkJRVVU3YjBKQlF6bENMRmRCUVZjN2IwSkJRMWdzWjBKQlFXZENPMjlDUVVOb1FpeFBRVUZQTEVWQlFVVXNRMEZCUXp0dlFrRkRWaXhMUVVGTExFVkJRVVVzUlVGQlJUdHZRa0ZEVkN4SlFVRkpMRTFCUVUwN2QwSkJRMDRzVDBGQlR5eExRVUZMTEVOQlFVTXNTVUZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhaUVVGWkxFTkJRVU1zUTBGQlF6dHZRa0ZEZWtNc1EwRkJRenR2UWtGRFJDeFZRVUZWTEVWQlFVVXNSVUZCUlR0cFFrRkRha0lzUTBGQlF6dFpRVU5PTEVOQlFVTXNRMEZCUXp0VFFVTk1MRU5CUVVNN1VVRkRSaXhaUVVGWkxFZEJRVWNzVFVGQlRTd3JRa0ZCWjBJc1EwRkJReXhOUVVGTkxFVkJRVVVzV1VGQldTeEZRVUZGTEU5QlFVOHNRMEZCUXl4RFFVRkRPMUZCUTNKRkxGbEJRVmtzUjBGQlJ5eE5RVUZOTEd0Q1FVRlZMRU5CUVVNc1dVRkJXU3hGUVVGRkxFOUJRVThzUTBGQlF5eERRVUZETzFGQlEzWkVMRmxCUVZrc1IwRkJSeXhOUVVGTkxDdENRVUZuUWl4RFFVRkRMRTFCUVUwc1JVRkJSU3haUVVGWkxFVkJRVVVzVDBGQlR5eERRVUZETEVOQlFVTTdVVUZEY2tVc1NVRkJTU3hEUVVGRExHdENRVUZyUWl4RFFVRkRMRmxCUVZrc1JVRkJSU3huUWtGQlowSXNRMEZCUXl4RFFVRkRPMUZCUTNoRUxGbEJRVmtzUjBGQlJ5eE5RVUZOTEN0Q1FVRm5RaXhEUVVGRExGbEJRVmtzUlVGQlJTeFpRVUZaTEVWQlFVVXNUMEZCVHl4RFFVRkRMRU5CUVVNN1VVRkRNMFVzV1VGQldTeEhRVUZITEUxQlFVMHNjME5CUVhWQ0xFTkJRVU1zUTBGQlF5eFRRVUZUTEVWQlFVVXNZVUZCWVN4RlFVRkZMRVZCUVVVc1NVRkJTU3hGUVVGRkxFMUJRVTBzUlVGQlJTeGpRVUZqTEVWQlFVVXNRMEZCUXl4UlFVRlJMRU5CUVVNc1JVRkJSU3hEUVVGRExFVkJRVVVzV1VGQldTeEZRVUZGTEU5QlFVOHNRMEZCUXl4RFFVRkRPMGxCUTJ4S0xFTkJRVU03U1VGRFJDeHJRa0ZCYTBJc1EwRkJReXhaUVVGWkxFVkJRVVVzWjBKQlFXZENPMUZCUXpkRExFMUJRVTBzUzBGQlN5eEhRVUZITEVWQlFVVXNRMEZCUXp0UlFVTnFRaXhQUVVGUExGbEJRVmtzUTBGQlF5eHBRa0ZCYVVJc1EwRkJReXhOUVVGTkxFZEJRVWNzUTBGQlF5eEZRVUZGTzFsQlF6bERMRWxCUVVrc1RVRkJUU3hIUVVGSExFbEJRVWtzUTBGQlF6dFpRVU5zUWl4TFFVRkxMRWxCUVVrc1EwRkJReXhIUVVGSExGbEJRVmtzUTBGQlF5eHBRa0ZCYVVJc1EwRkJReXhOUVVGTkxFZEJRVWNzUTBGQlF5eEZRVUZGTEVOQlFVTXNTVUZCU1N4RFFVRkRMRVZCUVVVc1EwRkJReXhGUVVGRkxFVkJRVVU3WjBKQlEycEZMRWxCUVVrc1NVRkJTU3hEUVVGRExFMUJRVTBzUTBGQlF5eFpRVUZaTEVOQlFVTXNhVUpCUVdsQ0xFTkJRVU1zUTBGQlF5eERRVUZETEVOQlFVTXNiVUpCUVcxQ0xFVkJRVVVzWjBKQlFXZENMRVZCUVVVc1MwRkJTeXhEUVVGRExFVkJRVVU3YjBKQlF6ZEdMRXRCUVVzc1EwRkJReXhKUVVGSkxFTkJRVU1zV1VGQldTeERRVUZETEdsQ1FVRnBRaXhEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZETEVOQlFVTTdiMEpCUXpsRExGbEJRVmtzUTBGQlF5eHBRa0ZCYVVJc1EwRkJReXhOUVVGTkxFTkJRVU1zUTBGQlF5eEZRVUZGTEVOQlFVTXNRMEZCUXl4RFFVRkRPMjlDUVVNMVF5eE5RVUZOTEVkQlFVY3NTMEZCU3l4RFFVRkRPMmxDUVVOc1FqdGhRVU5LTzFsQlEwUXNTVUZCU1N4TlFVRk5MRVZCUVVVN1owSkJRMUlzVFVGQlRTeEpRVUZKTEV0QlFVc3NRMEZCUXl3MlEwRkJOa01zUTBGQlF5eERRVUZETzJGQlEyeEZPMU5CUTBvN1VVRkRSQ3haUVVGWkxFTkJRVU1zYVVKQlFXbENMRWRCUVVjc1MwRkJTeXhEUVVGRE8wbEJRek5ETEVOQlFVTTdTVUZEUkN4TlFVRk5MRU5CUVVNc2JVSkJRVzFDTEVWQlFVVXNaMEpCUVdkQ0xFVkJRVVVzUzBGQlN6dFJRVU12UXl4TFFVRkxMRTFCUVUwc1EwRkJReXhKUVVGSkxHMUNRVUZ0UWl4RlFVRkZPMWxCUTJwRExFbEJRVWtzUTBGQlF5eG5Ra0ZCWjBJc1EwRkJReXhSUVVGUkxFTkJRVU1zUTBGQlF5eERRVUZETEVWQlFVVTdaMEpCUXk5Q0xGTkJRVk03WVVGRFdqdFpRVU5FTEVsQlFVa3NSMEZCUnl4SFFVRkhMRXRCUVVzc1EwRkJRenRaUVVOb1FpeExRVUZMTEUxQlFVMHNRMEZCUXl4SlFVRkpMRXRCUVVzc1JVRkJSVHRuUWtGRGJrSXNTVUZCU1N4RFFVRkRMRU5CUVVNc1QwRkJUeXhMUVVGTExFTkJRVU1zUlVGQlJUdHZRa0ZEYWtJc1IwRkJSeXhIUVVGSExFbEJRVWtzUTBGQlF6dHZRa0ZEV0N4TlFVRk5PMmxDUVVOVU8yRkJRMG83V1VGRFJDeEpRVUZKTEVOQlFVTXNSMEZCUnl4RlFVRkZPMmRDUVVOT0xFOUJRVThzUzBGQlN5eERRVUZETzJGQlEyaENPMU5CUTBvN1VVRkRSQ3hQUVVGUExFbEJRVWtzUTBGQlF6dEpRVU5vUWl4RFFVRkRPMGxCUTBRc1UwRkJVeXhEUVVGRExFOUJRVThzUlVGQlJTeEpRVUZKTzFGQlEyNUNMRTFCUVUwc1QwRkJUeXhIUVVGSExFMUJRVTBzUTBGQlF5eEpRVUZKTEVOQlFVTXNUMEZCVHl4RFFVRkRMR05CUVdNc1EwRkJReXhMUVVGTExFTkJRVU1zVDBGQlR5eERRVUZETEVOQlFVTTdVVUZEYkVVc1NVRkJTU3hoUVVGaExFTkJRVU03VVVGRGJFSXNTMEZCU3l4TlFVRk5MRTFCUVUwc1NVRkJTU3hQUVVGUExFVkJRVVU3V1VGRE1VSXNTVUZCU1N4SlFVRkpMRU5CUVVNc1IwRkJSeXhEUVVGRExFMUJRVTBzUTBGQlF5eExRVUZMTEVsQlFVa3NSVUZCUlR0blFrRkRNMElzVDBGQlR5eE5RVUZOTEVOQlFVTTdZVUZEYWtJN1dVRkRSQ3hKUVVGSkxFOUJRVThzUTBGQlF5eGpRVUZqTEVOQlFVTXNTMEZCU3l4RFFVRkRMRTlCUVU4c1EwRkJReXhOUVVGTkxFTkJRVU1zUTBGQlF5eFBRVUZQTEVWQlFVVTdaMEpCUTNSRUxHRkJRV0VzUjBGQlJ5eE5RVUZOTEVOQlFVTTdZVUZETVVJN1UwRkRTanRSUVVORUxFbEJRVWtzWVVGQllTeEZRVUZGTzFsQlEyWXNUMEZCVHl4aFFVRmhMRU5CUVVNN1UwRkRlRUk3WVVGRFNTeEpRVUZKTEU5QlFVOHNRMEZCUXl4TlFVRk5MRXRCUVVzc1EwRkJReXhGUVVGRk8xbEJRek5DTEU5QlFVOHNUMEZCVHl4RFFVRkRMRU5CUVVNc1EwRkJReXhEUVVGRE8xTkJRM0pDTzJGQlEwazdXVUZEUkN4TlFVRk5MRWxCUVVrc1MwRkJTeXhEUVVGRExEWkRRVUUyUXl4UFFVRlBMSGxGUVVGNVJTeERRVUZETEVOQlFVTTdVMEZEYkVvN1NVRkRUQ3hEUVVGRE8wTkJRMG83UVVGdVJrUXNORUpCYlVaRE8wRkJRMWtzVVVGQlFTeFJRVUZSTEVkQlFVY3NTVUZCU1N4UlFVRlJMRVZCUVVVc1EwRkJReUo5Il19