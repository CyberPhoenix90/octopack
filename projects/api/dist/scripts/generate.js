"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const project_crawler_1 = require("../projects/project_crawler");
const script_1 = require("./script");
const plugin_loader_1 = require("plugin_loader");
class Generate extends script_1.Script {
    autoComplete() {
        throw new Error('Method not implemented.');
    }
    help() {
        return {
            description: 'Generates stuff'
        };
    }
    async run(args, context) {
        var _a, _b;
        const projects = await project_crawler_1.projectCrawler.findProjects(context.workspaceRoot, context);
        for (const plugin of context.workspaceConfig.generator) {
            context.devLogger.debug(
            //@ts-ignore
            `Running generator plugin ${_b = (_a = plugin) === null || _a === void 0 ? void 0 : _a.name, (_b !== null && _b !== void 0 ? _b : plugin)}`);
            await plugin_loader_1.loadGeneratorPlugin(plugin)(projects, context);
        }
        return {};
    }
}
exports.Generate = Generate;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdlbmVyYXRlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgcHJvamVjdF9jcmF3bGVyXzEgPSByZXF1aXJlKFwiLi4vcHJvamVjdHMvcHJvamVjdF9jcmF3bGVyXCIpO1xuY29uc3Qgc2NyaXB0XzEgPSByZXF1aXJlKFwiLi9zY3JpcHRcIik7XG5jb25zdCBwbHVnaW5fbG9hZGVyXzEgPSByZXF1aXJlKFwicGx1Z2luX2xvYWRlclwiKTtcbmNsYXNzIEdlbmVyYXRlIGV4dGVuZHMgc2NyaXB0XzEuU2NyaXB0IHtcbiAgICBhdXRvQ29tcGxldGUoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC4nKTtcbiAgICB9XG4gICAgaGVscCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnR2VuZXJhdGVzIHN0dWZmJ1xuICAgICAgICB9O1xuICAgIH1cbiAgICBhc3luYyBydW4oYXJncywgY29udGV4dCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBwcm9qZWN0cyA9IGF3YWl0IHByb2plY3RfY3Jhd2xlcl8xLnByb2plY3RDcmF3bGVyLmZpbmRQcm9qZWN0cyhjb250ZXh0LndvcmtzcGFjZVJvb3QsIGNvbnRleHQpO1xuICAgICAgICBmb3IgKGNvbnN0IHBsdWdpbiBvZiBjb250ZXh0LndvcmtzcGFjZUNvbmZpZy5nZW5lcmF0b3IpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZGV2TG9nZ2VyLmRlYnVnKFxuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBgUnVubmluZyBnZW5lcmF0b3IgcGx1Z2luICR7X2IgPSAoX2EgPSBwbHVnaW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5uYW1lLCAoX2IgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogcGx1Z2luKX1gKTtcbiAgICAgICAgICAgIGF3YWl0IHBsdWdpbl9sb2FkZXJfMS5sb2FkR2VuZXJhdG9yUGx1Z2luKHBsdWdpbikocHJvamVjdHMsIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG59XG5leHBvcnRzLkdlbmVyYXRlID0gR2VuZXJhdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2laMlZ1WlhKaGRHVXVhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjeUk2V3lKblpXNWxjbUYwWlM1cWN5SmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaU96dEJRVUZCTEdsRlFVRTJSRHRCUVVNM1JDeHhRMEZCYTBNN1FVRkRiRU1zYVVSQlFXOUVPMEZCUTNCRUxFMUJRV0VzVVVGQlV5eFRRVUZSTEdWQlFVMDdTVUZEYUVNc1dVRkJXVHRSUVVOU0xFMUJRVTBzU1VGQlNTeExRVUZMTEVOQlFVTXNlVUpCUVhsQ0xFTkJRVU1zUTBGQlF6dEpRVU12UXl4RFFVRkRPMGxCUTBRc1NVRkJTVHRSUVVOQkxFOUJRVTg3V1VGRFNDeFhRVUZYTEVWQlFVVXNhVUpCUVdsQ08xTkJRMnBETEVOQlFVTTdTVUZEVGl4RFFVRkRPMGxCUTBRc1MwRkJTeXhEUVVGRExFZEJRVWNzUTBGQlF5eEpRVUZKTEVWQlFVVXNUMEZCVHp0UlFVTnVRaXhKUVVGSkxFVkJRVVVzUlVGQlJTeEZRVUZGTEVOQlFVTTdVVUZEV0N4TlFVRk5MRkZCUVZFc1IwRkJSeXhOUVVGTkxHZERRVUZqTEVOQlFVTXNXVUZCV1N4RFFVRkRMRTlCUVU4c1EwRkJReXhoUVVGaExFVkJRVVVzVDBGQlR5eERRVUZETEVOQlFVTTdVVUZEYmtZc1MwRkJTeXhOUVVGTkxFMUJRVTBzU1VGQlNTeFBRVUZQTEVOQlFVTXNaVUZCWlN4RFFVRkRMRk5CUVZNc1JVRkJSVHRaUVVOd1JDeFBRVUZQTEVOQlFVTXNVMEZCVXl4RFFVRkRMRXRCUVVzN1dVRkRka0lzV1VGQldUdFpRVU5hTERSQ1FVRTBRaXhGUVVGRkxFZEJRVWNzUTBGQlF5eEZRVUZGTEVkQlFVY3NUVUZCVFN4RFFVRkRMRXRCUVVzc1NVRkJTU3hKUVVGSkxFVkJRVVVzUzBGQlN5eExRVUZMTEVOQlFVTXNRMEZCUXl4RFFVRkRMRU5CUVVNc1MwRkJTeXhEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZETEVWQlFVVXNRMEZCUXl4SlFVRkpMRVZCUVVVc1EwRkJReXhGUVVGRkxFdEJRVXNzU1VGQlNTeEpRVUZKTEVWQlFVVXNTMEZCU3l4TFFVRkxMRU5CUVVNc1EwRkJReXhEUVVGRExFTkJRVU1zUlVGQlJTeERRVUZETEVOQlFVTXNRMEZCUXl4TlFVRk5MRU5CUVVNc1JVRkJSU3hEUVVGRExFTkJRVU03V1VGRE4wa3NUVUZCVFN4dFEwRkJiVUlzUTBGQlF5eE5RVUZOTEVOQlFVTXNRMEZCUXl4UlFVRlJMRVZCUVVVc1QwRkJUeXhEUVVGRExFTkJRVU03VTBGRGVFUTdVVUZEUkN4UFFVRlBMRVZCUVVVc1EwRkJRenRKUVVOa0xFTkJRVU03UTBGRFNqdEJRWEJDUkN3MFFrRnZRa01pZlE9PSJdfQ==