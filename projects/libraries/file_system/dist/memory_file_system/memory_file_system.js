"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const file_system_1 = require("../file_system");
const file_path_utils_1 = require("../file_path_utils");
const path_1 = require("path");
class MemoryFileSystem extends file_system_1.FileSystem {
    constructor(data) {
        super();
        this.fileSystem = data
            ? this.fromJson(data)
            : {
                children: {},
                fullPath: '/',
                name: '/',
                parent: undefined,
                type: file_system_1.FileSystemEntryType.DIRECTORY
            };
    }
    watch(paths, options, callback) {
        throw new Error('Method not implemented.');
    }
    watchSync(paths, options, callback) {
        throw new Error('Method not implemented.');
    }
    async readlink(path) {
        return '';
    }
    readlinkSync(path) {
        return '';
    }
    async realpath(path) {
        return path_1.resolve(path);
    }
    realpathSync(path) {
        return path_1.resolve(path);
    }
    fromJson(json) {
        throw new Error('not implemented');
    }
    async toJson() {
        const files = await this.readDirRecursive('/', {});
        const result = {};
        for (const file of files) {
            result[file] = this.readFileSync(file, 'utf8');
        }
        return result;
    }
    async mkdir(path) {
        return this.mkdirSync(path);
    }
    mkdirSync(path) {
        const fp = new file_path_utils_1.FilePath(path);
        const entry = this.getEntry(fp.getDirectory());
        if (!entry) {
            throw new Error(`Path does not exist for ${path}`);
        }
        else if (entry.type === file_system_1.FileSystemEntryType.FILE) {
            throw new Error('cannot add directories into files');
        }
        entry.children[fp.getFullFileName()] = {
            fullPath: path,
            children: {},
            name: fp.getFullFileName(),
            parent: entry,
            type: file_system_1.FileSystemEntryType.DIRECTORY
        };
    }
    async rmdir(path) {
        return this.rmdirSync(path);
    }
    rmdirSync(path) {
        const entry = this.getEntry(path);
        if (entry) {
            if (entry.type === file_system_1.FileSystemEntryType.DIRECTORY) {
                if (Object.keys(entry.children).length !== 0) {
                    throw new Error('unlink can only delete empty directories');
                }
                delete entry.parent.children[entry.name];
            }
            else {
                throw new Error(`rmdir can only remove directories`);
            }
        }
        else {
            throw new Error(`Path not found: ${path}`);
        }
    }
    async unlink(path) {
        return this.unlinkSync(path);
    }
    unlinkSync(path) {
        const entry = this.getEntry(path);
        if (entry) {
            if (entry.type === file_system_1.FileSystemEntryType.DIRECTORY) {
                if (Object.keys(entry.children).length !== 0) {
                    throw new Error('unlink can only delete empty directories');
                }
            }
            delete entry.parent.children[entry.name];
        }
        else {
            throw new Error(`Path not found: ${path}`);
        }
    }
    async readFile(path, encoding) {
        return this.readFileSync(path, encoding);
    }
    readFileSync(path, encoding) {
        const entry = this.getEntry(path);
        if (!entry) {
            throw new Error(`No such path ${path}`);
        }
        if (entry.type === file_system_1.FileSystemEntryType.DIRECTORY) {
            throw new Error(`${path} is a directory`);
        }
        if (encoding && encoding !== 'buffer') {
            return entry.content;
        }
        else {
            return Buffer.from(entry.content);
        }
    }
    async stat(path) {
        return this.statSync(path);
    }
    statSync(path) {
        const entry = this.getEntry(path);
        if (!entry) {
            throw new Error(`No such path ${path}`);
        }
        const s = {
            type: entry.type,
            isBlockDevice: () => false,
            isCharacterDevice: () => false,
            isFIFO: () => false,
            isSocket: () => false,
            isSymbolicLink: () => false,
            isFile: () => entry.type === file_system_1.FileSystemEntryType.FILE,
            isDirectory: () => entry.type === file_system_1.FileSystemEntryType.DIRECTORY,
            size: entry.content ? entry.content.length : 0
        };
        return s;
    }
    async readDir(path) {
        return this.readDirSync(path);
    }
    readDirSync(path) {
        const entry = this.getEntry(path);
        if (!entry) {
            throw new Error(`No such path ${path}`);
        }
        if (entry.type === file_system_1.FileSystemEntryType.FILE) {
            throw new Error(`${path} is a file`);
        }
        return Object.keys(entry.children);
    }
    async exists(path) {
        return this.existsSync(path);
    }
    existsSync(path) {
        return this.getEntry(path) !== undefined;
    }
    async writeFile(path, content) {
        return this.writeFileSync(path, content);
    }
    writeFileSync(path, content) {
        const fp = new file_path_utils_1.FilePath(path);
        const entry = this.getEntry(fp.getDirectory());
        if (!entry) {
            throw new Error(`Path does not exist for ${path}`);
        }
        else if (entry.type === file_system_1.FileSystemEntryType.FILE) {
            throw new Error('cannot add subfiles into files');
        }
        entry.children[fp.getFullFileName()] = {
            fullPath: path,
            content,
            name: fp.getFileName(),
            parent: entry,
            type: file_system_1.FileSystemEntryType.FILE
        };
    }
    getEntry(path) {
        let ptr = this.fileSystem;
        if (path.startsWith('/')) {
            path = path.substring(1);
        }
        const pieces = path.split('/').filter((p) => p);
        for (const piece of pieces) {
            if (typeof ptr === 'string') {
                return undefined;
            }
            ptr = ptr.children[piece];
            if (!ptr) {
                return undefined;
            }
        }
        return ptr;
    }
}
exports.MemoryFileSystem = MemoryFileSystem;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbW9yeV9maWxlX3N5c3RlbS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJtZW1vcnlfZmlsZV9zeXN0ZW0uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBmaWxlX3N5c3RlbV8xID0gcmVxdWlyZShcIi4uL2ZpbGVfc3lzdGVtXCIpO1xuY29uc3QgZmlsZV9wYXRoX3V0aWxzXzEgPSByZXF1aXJlKFwiLi4vZmlsZV9wYXRoX3V0aWxzXCIpO1xuY29uc3QgcGF0aF8xID0gcmVxdWlyZShcInBhdGhcIik7XG5jbGFzcyBNZW1vcnlGaWxlU3lzdGVtIGV4dGVuZHMgZmlsZV9zeXN0ZW1fMS5GaWxlU3lzdGVtIHtcbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZmlsZVN5c3RlbSA9IGRhdGFcbiAgICAgICAgICAgID8gdGhpcy5mcm9tSnNvbihkYXRhKVxuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IHt9LFxuICAgICAgICAgICAgICAgIGZ1bGxQYXRoOiAnLycsXG4gICAgICAgICAgICAgICAgbmFtZTogJy8nLFxuICAgICAgICAgICAgICAgIHBhcmVudDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHR5cGU6IGZpbGVfc3lzdGVtXzEuRmlsZVN5c3RlbUVudHJ5VHlwZS5ESVJFQ1RPUllcbiAgICAgICAgICAgIH07XG4gICAgfVxuICAgIHdhdGNoKHBhdGhzLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7XG4gICAgfVxuICAgIHdhdGNoU3luYyhwYXRocywgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkLicpO1xuICAgIH1cbiAgICBhc3luYyByZWFkbGluayhwYXRoKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmVhZGxpbmtTeW5jKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBhc3luYyByZWFscGF0aChwYXRoKSB7XG4gICAgICAgIHJldHVybiBwYXRoXzEucmVzb2x2ZShwYXRoKTtcbiAgICB9XG4gICAgcmVhbHBhdGhTeW5jKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHBhdGhfMS5yZXNvbHZlKHBhdGgpO1xuICAgIH1cbiAgICBmcm9tSnNvbihqc29uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJyk7XG4gICAgfVxuICAgIGFzeW5jIHRvSnNvbigpIHtcbiAgICAgICAgY29uc3QgZmlsZXMgPSBhd2FpdCB0aGlzLnJlYWREaXJSZWN1cnNpdmUoJy8nLCB7fSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcbiAgICAgICAgICAgIHJlc3VsdFtmaWxlXSA9IHRoaXMucmVhZEZpbGVTeW5jKGZpbGUsICd1dGY4Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgYXN5bmMgbWtkaXIocGF0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ta2RpclN5bmMocGF0aCk7XG4gICAgfVxuICAgIG1rZGlyU3luYyhwYXRoKSB7XG4gICAgICAgIGNvbnN0IGZwID0gbmV3IGZpbGVfcGF0aF91dGlsc18xLkZpbGVQYXRoKHBhdGgpO1xuICAgICAgICBjb25zdCBlbnRyeSA9IHRoaXMuZ2V0RW50cnkoZnAuZ2V0RGlyZWN0b3J5KCkpO1xuICAgICAgICBpZiAoIWVudHJ5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFBhdGggZG9lcyBub3QgZXhpc3QgZm9yICR7cGF0aH1gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlbnRyeS50eXBlID09PSBmaWxlX3N5c3RlbV8xLkZpbGVTeXN0ZW1FbnRyeVR5cGUuRklMRSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5ub3QgYWRkIGRpcmVjdG9yaWVzIGludG8gZmlsZXMnKTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyeS5jaGlsZHJlbltmcC5nZXRGdWxsRmlsZU5hbWUoKV0gPSB7XG4gICAgICAgICAgICBmdWxsUGF0aDogcGF0aCxcbiAgICAgICAgICAgIGNoaWxkcmVuOiB7fSxcbiAgICAgICAgICAgIG5hbWU6IGZwLmdldEZ1bGxGaWxlTmFtZSgpLFxuICAgICAgICAgICAgcGFyZW50OiBlbnRyeSxcbiAgICAgICAgICAgIHR5cGU6IGZpbGVfc3lzdGVtXzEuRmlsZVN5c3RlbUVudHJ5VHlwZS5ESVJFQ1RPUllcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXN5bmMgcm1kaXIocGF0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ybWRpclN5bmMocGF0aCk7XG4gICAgfVxuICAgIHJtZGlyU3luYyhwYXRoKSB7XG4gICAgICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5nZXRFbnRyeShwYXRoKTtcbiAgICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgICAgICBpZiAoZW50cnkudHlwZSA9PT0gZmlsZV9zeXN0ZW1fMS5GaWxlU3lzdGVtRW50cnlUeXBlLkRJUkVDVE9SWSkge1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhlbnRyeS5jaGlsZHJlbikubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5saW5rIGNhbiBvbmx5IGRlbGV0ZSBlbXB0eSBkaXJlY3RvcmllcycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWxldGUgZW50cnkucGFyZW50LmNoaWxkcmVuW2VudHJ5Lm5hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBybWRpciBjYW4gb25seSByZW1vdmUgZGlyZWN0b3JpZXNgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUGF0aCBub3QgZm91bmQ6ICR7cGF0aH1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyB1bmxpbmsocGF0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy51bmxpbmtTeW5jKHBhdGgpO1xuICAgIH1cbiAgICB1bmxpbmtTeW5jKHBhdGgpIHtcbiAgICAgICAgY29uc3QgZW50cnkgPSB0aGlzLmdldEVudHJ5KHBhdGgpO1xuICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgIGlmIChlbnRyeS50eXBlID09PSBmaWxlX3N5c3RlbV8xLkZpbGVTeXN0ZW1FbnRyeVR5cGUuRElSRUNUT1JZKSB7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGVudHJ5LmNoaWxkcmVuKS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmxpbmsgY2FuIG9ubHkgZGVsZXRlIGVtcHR5IGRpcmVjdG9yaWVzJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIGVudHJ5LnBhcmVudC5jaGlsZHJlbltlbnRyeS5uYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUGF0aCBub3QgZm91bmQ6ICR7cGF0aH1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyByZWFkRmlsZShwYXRoLCBlbmNvZGluZykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkRmlsZVN5bmMocGF0aCwgZW5jb2RpbmcpO1xuICAgIH1cbiAgICByZWFkRmlsZVN5bmMocGF0aCwgZW5jb2RpbmcpIHtcbiAgICAgICAgY29uc3QgZW50cnkgPSB0aGlzLmdldEVudHJ5KHBhdGgpO1xuICAgICAgICBpZiAoIWVudHJ5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHN1Y2ggcGF0aCAke3BhdGh9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVudHJ5LnR5cGUgPT09IGZpbGVfc3lzdGVtXzEuRmlsZVN5c3RlbUVudHJ5VHlwZS5ESVJFQ1RPUlkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtwYXRofSBpcyBhIGRpcmVjdG9yeWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmNvZGluZyAmJiBlbmNvZGluZyAhPT0gJ2J1ZmZlcicpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRyeS5jb250ZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKGVudHJ5LmNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHN0YXQocGF0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0U3luYyhwYXRoKTtcbiAgICB9XG4gICAgc3RhdFN5bmMocGF0aCkge1xuICAgICAgICBjb25zdCBlbnRyeSA9IHRoaXMuZ2V0RW50cnkocGF0aCk7XG4gICAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gc3VjaCBwYXRoICR7cGF0aH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzID0ge1xuICAgICAgICAgICAgdHlwZTogZW50cnkudHlwZSxcbiAgICAgICAgICAgIGlzQmxvY2tEZXZpY2U6ICgpID0+IGZhbHNlLFxuICAgICAgICAgICAgaXNDaGFyYWN0ZXJEZXZpY2U6ICgpID0+IGZhbHNlLFxuICAgICAgICAgICAgaXNGSUZPOiAoKSA9PiBmYWxzZSxcbiAgICAgICAgICAgIGlzU29ja2V0OiAoKSA9PiBmYWxzZSxcbiAgICAgICAgICAgIGlzU3ltYm9saWNMaW5rOiAoKSA9PiBmYWxzZSxcbiAgICAgICAgICAgIGlzRmlsZTogKCkgPT4gZW50cnkudHlwZSA9PT0gZmlsZV9zeXN0ZW1fMS5GaWxlU3lzdGVtRW50cnlUeXBlLkZJTEUsXG4gICAgICAgICAgICBpc0RpcmVjdG9yeTogKCkgPT4gZW50cnkudHlwZSA9PT0gZmlsZV9zeXN0ZW1fMS5GaWxlU3lzdGVtRW50cnlUeXBlLkRJUkVDVE9SWSxcbiAgICAgICAgICAgIHNpemU6IGVudHJ5LmNvbnRlbnQgPyBlbnRyeS5jb250ZW50Lmxlbmd0aCA6IDBcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxuICAgIGFzeW5jIHJlYWREaXIocGF0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkRGlyU3luYyhwYXRoKTtcbiAgICB9XG4gICAgcmVhZERpclN5bmMocGF0aCkge1xuICAgICAgICBjb25zdCBlbnRyeSA9IHRoaXMuZ2V0RW50cnkocGF0aCk7XG4gICAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gc3VjaCBwYXRoICR7cGF0aH1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW50cnkudHlwZSA9PT0gZmlsZV9zeXN0ZW1fMS5GaWxlU3lzdGVtRW50cnlUeXBlLkZJTEUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtwYXRofSBpcyBhIGZpbGVgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoZW50cnkuY2hpbGRyZW4pO1xuICAgIH1cbiAgICBhc3luYyBleGlzdHMocGF0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5leGlzdHNTeW5jKHBhdGgpO1xuICAgIH1cbiAgICBleGlzdHNTeW5jKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RW50cnkocGF0aCkgIT09IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgYXN5bmMgd3JpdGVGaWxlKHBhdGgsIGNvbnRlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JpdGVGaWxlU3luYyhwYXRoLCBjb250ZW50KTtcbiAgICB9XG4gICAgd3JpdGVGaWxlU3luYyhwYXRoLCBjb250ZW50KSB7XG4gICAgICAgIGNvbnN0IGZwID0gbmV3IGZpbGVfcGF0aF91dGlsc18xLkZpbGVQYXRoKHBhdGgpO1xuICAgICAgICBjb25zdCBlbnRyeSA9IHRoaXMuZ2V0RW50cnkoZnAuZ2V0RGlyZWN0b3J5KCkpO1xuICAgICAgICBpZiAoIWVudHJ5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFBhdGggZG9lcyBub3QgZXhpc3QgZm9yICR7cGF0aH1gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlbnRyeS50eXBlID09PSBmaWxlX3N5c3RlbV8xLkZpbGVTeXN0ZW1FbnRyeVR5cGUuRklMRSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5ub3QgYWRkIHN1YmZpbGVzIGludG8gZmlsZXMnKTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyeS5jaGlsZHJlbltmcC5nZXRGdWxsRmlsZU5hbWUoKV0gPSB7XG4gICAgICAgICAgICBmdWxsUGF0aDogcGF0aCxcbiAgICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgICBuYW1lOiBmcC5nZXRGaWxlTmFtZSgpLFxuICAgICAgICAgICAgcGFyZW50OiBlbnRyeSxcbiAgICAgICAgICAgIHR5cGU6IGZpbGVfc3lzdGVtXzEuRmlsZVN5c3RlbUVudHJ5VHlwZS5GSUxFXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldEVudHJ5KHBhdGgpIHtcbiAgICAgICAgbGV0IHB0ciA9IHRoaXMuZmlsZVN5c3RlbTtcbiAgICAgICAgaWYgKHBhdGguc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICBwYXRoID0gcGF0aC5zdWJzdHJpbmcoMSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGllY2VzID0gcGF0aC5zcGxpdCgnLycpLmZpbHRlcigocCkgPT4gcCk7XG4gICAgICAgIGZvciAoY29uc3QgcGllY2Ugb2YgcGllY2VzKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHB0ciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHRyID0gcHRyLmNoaWxkcmVuW3BpZWNlXTtcbiAgICAgICAgICAgIGlmICghcHRyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH1cbn1cbmV4cG9ydHMuTWVtb3J5RmlsZVN5c3RlbSA9IE1lbW9yeUZpbGVTeXN0ZW07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2liV1Z0YjNKNVgyWnBiR1ZmYzNsemRHVnRMbXB6SWl3aWMyOTFjbU5sVW05dmRDSTZJaUlzSW5OdmRYSmpaWE1pT2xzaWJXVnRiM0o1WDJacGJHVmZjM2x6ZEdWdExtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdPMEZCUVVFc1owUkJRV2xGTzBGQlEycEZMSGRFUVVFNFF6dEJRVU01UXl3clFrRkJLMEk3UVVGREwwSXNUVUZCWVN4blFrRkJhVUlzVTBGQlVTeDNRa0ZCVlR0SlFVTTFReXhaUVVGWkxFbEJRVWs3VVVGRFdpeExRVUZMTEVWQlFVVXNRMEZCUXp0UlFVTlNMRWxCUVVrc1EwRkJReXhWUVVGVkxFZEJRVWNzU1VGQlNUdFpRVU5zUWl4RFFVRkRMRU5CUVVNc1NVRkJTU3hEUVVGRExGRkJRVkVzUTBGQlF5eEpRVUZKTEVOQlFVTTdXVUZEY2tJc1EwRkJReXhEUVVGRE8yZENRVU5GTEZGQlFWRXNSVUZCUlN4RlFVRkZPMmRDUVVOYUxGRkJRVkVzUlVGQlJTeEhRVUZITzJkQ1FVTmlMRWxCUVVrc1JVRkJSU3hIUVVGSE8yZENRVU5VTEUxQlFVMHNSVUZCUlN4VFFVRlRPMmRDUVVOcVFpeEpRVUZKTEVWQlFVVXNhVU5CUVcxQ0xFTkJRVU1zVTBGQlV6dGhRVU4wUXl4RFFVRkRPMGxCUTFZc1EwRkJRenRKUVVORUxFdEJRVXNzUTBGQlF5eExRVUZMTEVWQlFVVXNUMEZCVHl4RlFVRkZMRkZCUVZFN1VVRkRNVUlzVFVGQlRTeEpRVUZKTEV0QlFVc3NRMEZCUXl4NVFrRkJlVUlzUTBGQlF5eERRVUZETzBsQlF5OURMRU5CUVVNN1NVRkRSQ3hUUVVGVExFTkJRVU1zUzBGQlN5eEZRVUZGTEU5QlFVOHNSVUZCUlN4UlFVRlJPMUZCUXpsQ0xFMUJRVTBzU1VGQlNTeExRVUZMTEVOQlFVTXNlVUpCUVhsQ0xFTkJRVU1zUTBGQlF6dEpRVU12UXl4RFFVRkRPMGxCUTBRc1MwRkJTeXhEUVVGRExGRkJRVkVzUTBGQlF5eEpRVUZKTzFGQlEyWXNUMEZCVHl4RlFVRkZMRU5CUVVNN1NVRkRaQ3hEUVVGRE8wbEJRMFFzV1VGQldTeERRVUZETEVsQlFVazdVVUZEWWl4UFFVRlBMRVZCUVVVc1EwRkJRenRKUVVOa0xFTkJRVU03U1VGRFJDeExRVUZMTEVOQlFVTXNVVUZCVVN4RFFVRkRMRWxCUVVrN1VVRkRaaXhQUVVGUExHTkJRVThzUTBGQlF5eEpRVUZKTEVOQlFVTXNRMEZCUXp0SlFVTjZRaXhEUVVGRE8wbEJRMFFzV1VGQldTeERRVUZETEVsQlFVazdVVUZEWWl4UFFVRlBMR05CUVU4c1EwRkJReXhKUVVGSkxFTkJRVU1zUTBGQlF6dEpRVU42UWl4RFFVRkRPMGxCUTBRc1VVRkJVU3hEUVVGRExFbEJRVWs3VVVGRFZDeE5RVUZOTEVsQlFVa3NTMEZCU3l4RFFVRkRMR2xDUVVGcFFpeERRVUZETEVOQlFVTTdTVUZEZGtNc1EwRkJRenRKUVVORUxFdEJRVXNzUTBGQlF5eE5RVUZOTzFGQlExSXNUVUZCVFN4TFFVRkxMRWRCUVVjc1RVRkJUU3hKUVVGSkxFTkJRVU1zWjBKQlFXZENMRU5CUVVNc1IwRkJSeXhGUVVGRkxFVkJRVVVzUTBGQlF5eERRVUZETzFGQlEyNUVMRTFCUVUwc1RVRkJUU3hIUVVGSExFVkJRVVVzUTBGQlF6dFJRVU5zUWl4TFFVRkxMRTFCUVUwc1NVRkJTU3hKUVVGSkxFdEJRVXNzUlVGQlJUdFpRVU4wUWl4TlFVRk5MRU5CUVVNc1NVRkJTU3hEUVVGRExFZEJRVWNzU1VGQlNTeERRVUZETEZsQlFWa3NRMEZCUXl4SlFVRkpMRVZCUVVVc1RVRkJUU3hEUVVGRExFTkJRVU03VTBGRGJFUTdVVUZEUkN4UFFVRlBMRTFCUVUwc1EwRkJRenRKUVVOc1FpeERRVUZETzBsQlEwUXNTMEZCU3l4RFFVRkRMRXRCUVVzc1EwRkJReXhKUVVGSk8xRkJRMW9zVDBGQlR5eEpRVUZKTEVOQlFVTXNVMEZCVXl4RFFVRkRMRWxCUVVrc1EwRkJReXhEUVVGRE8wbEJRMmhETEVOQlFVTTdTVUZEUkN4VFFVRlRMRU5CUVVNc1NVRkJTVHRSUVVOV0xFMUJRVTBzUlVGQlJTeEhRVUZITEVsQlFVa3NNRUpCUVZFc1EwRkJReXhKUVVGSkxFTkJRVU1zUTBGQlF6dFJRVU01UWl4TlFVRk5MRXRCUVVzc1IwRkJSeXhKUVVGSkxFTkJRVU1zVVVGQlVTeERRVUZETEVWQlFVVXNRMEZCUXl4WlFVRlpMRVZCUVVVc1EwRkJReXhEUVVGRE8xRkJReTlETEVsQlFVa3NRMEZCUXl4TFFVRkxMRVZCUVVVN1dVRkRVaXhOUVVGTkxFbEJRVWtzUzBGQlN5eERRVUZETERKQ1FVRXlRaXhKUVVGSkxFVkJRVVVzUTBGQlF5eERRVUZETzFOQlEzUkVPMkZCUTBrc1NVRkJTU3hMUVVGTExFTkJRVU1zU1VGQlNTeExRVUZMTEdsRFFVRnRRaXhEUVVGRExFbEJRVWtzUlVGQlJUdFpRVU01UXl4TlFVRk5MRWxCUVVrc1MwRkJTeXhEUVVGRExHMURRVUZ0UXl4RFFVRkRMRU5CUVVNN1UwRkRlRVE3VVVGRFJDeExRVUZMTEVOQlFVTXNVVUZCVVN4RFFVRkRMRVZCUVVVc1EwRkJReXhsUVVGbExFVkJRVVVzUTBGQlF5eEhRVUZITzFsQlEyNURMRkZCUVZFc1JVRkJSU3hKUVVGSk8xbEJRMlFzVVVGQlVTeEZRVUZGTEVWQlFVVTdXVUZEV2l4SlFVRkpMRVZCUVVVc1JVRkJSU3hEUVVGRExHVkJRV1VzUlVGQlJUdFpRVU14UWl4TlFVRk5MRVZCUVVVc1MwRkJTenRaUVVOaUxFbEJRVWtzUlVGQlJTeHBRMEZCYlVJc1EwRkJReXhUUVVGVE8xTkJRM1JETEVOQlFVTTdTVUZEVGl4RFFVRkRPMGxCUTBRc1MwRkJTeXhEUVVGRExFdEJRVXNzUTBGQlF5eEpRVUZKTzFGQlExb3NUMEZCVHl4SlFVRkpMRU5CUVVNc1UwRkJVeXhEUVVGRExFbEJRVWtzUTBGQlF5eERRVUZETzBsQlEyaERMRU5CUVVNN1NVRkRSQ3hUUVVGVExFTkJRVU1zU1VGQlNUdFJRVU5XTEUxQlFVMHNTMEZCU3l4SFFVRkhMRWxCUVVrc1EwRkJReXhSUVVGUkxFTkJRVU1zU1VGQlNTeERRVUZETEVOQlFVTTdVVUZEYkVNc1NVRkJTU3hMUVVGTExFVkJRVVU3V1VGRFVDeEpRVUZKTEV0QlFVc3NRMEZCUXl4SlFVRkpMRXRCUVVzc2FVTkJRVzFDTEVOQlFVTXNVMEZCVXl4RlFVRkZPMmRDUVVNNVF5eEpRVUZKTEUxQlFVMHNRMEZCUXl4SlFVRkpMRU5CUVVNc1MwRkJTeXhEUVVGRExGRkJRVkVzUTBGQlF5eERRVUZETEUxQlFVMHNTMEZCU3l4RFFVRkRMRVZCUVVVN2IwSkJRekZETEUxQlFVMHNTVUZCU1N4TFFVRkxMRU5CUVVNc01FTkJRVEJETEVOQlFVTXNRMEZCUXp0cFFrRkRMMFE3WjBKQlEwUXNUMEZCVHl4TFFVRkxMRU5CUVVNc1RVRkJUU3hEUVVGRExGRkJRVkVzUTBGQlF5eExRVUZMTEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNN1lVRkROVU03YVVKQlEwazdaMEpCUTBRc1RVRkJUU3hKUVVGSkxFdEJRVXNzUTBGQlF5eHRRMEZCYlVNc1EwRkJReXhEUVVGRE8yRkJRM2hFTzFOQlEwbzdZVUZEU1R0WlFVTkVMRTFCUVUwc1NVRkJTU3hMUVVGTExFTkJRVU1zYlVKQlFXMUNMRWxCUVVrc1JVRkJSU3hEUVVGRExFTkJRVU03VTBGRE9VTTdTVUZEVEN4RFFVRkRPMGxCUTBRc1MwRkJTeXhEUVVGRExFMUJRVTBzUTBGQlF5eEpRVUZKTzFGQlEySXNUMEZCVHl4SlFVRkpMRU5CUVVNc1ZVRkJWU3hEUVVGRExFbEJRVWtzUTBGQlF5eERRVUZETzBsQlEycERMRU5CUVVNN1NVRkRSQ3hWUVVGVkxFTkJRVU1zU1VGQlNUdFJRVU5ZTEUxQlFVMHNTMEZCU3l4SFFVRkhMRWxCUVVrc1EwRkJReXhSUVVGUkxFTkJRVU1zU1VGQlNTeERRVUZETEVOQlFVTTdVVUZEYkVNc1NVRkJTU3hMUVVGTExFVkJRVVU3V1VGRFVDeEpRVUZKTEV0QlFVc3NRMEZCUXl4SlFVRkpMRXRCUVVzc2FVTkJRVzFDTEVOQlFVTXNVMEZCVXl4RlFVRkZPMmRDUVVNNVF5eEpRVUZKTEUxQlFVMHNRMEZCUXl4SlFVRkpMRU5CUVVNc1MwRkJTeXhEUVVGRExGRkJRVkVzUTBGQlF5eERRVUZETEUxQlFVMHNTMEZCU3l4RFFVRkRMRVZCUVVVN2IwSkJRekZETEUxQlFVMHNTVUZCU1N4TFFVRkxMRU5CUVVNc01FTkJRVEJETEVOQlFVTXNRMEZCUXp0cFFrRkRMMFE3WVVGRFNqdFpRVU5FTEU5QlFVOHNTMEZCU3l4RFFVRkRMRTFCUVUwc1EwRkJReXhSUVVGUkxFTkJRVU1zUzBGQlN5eERRVUZETEVsQlFVa3NRMEZCUXl4RFFVRkRPMU5CUXpWRE8yRkJRMGs3V1VGRFJDeE5RVUZOTEVsQlFVa3NTMEZCU3l4RFFVRkRMRzFDUVVGdFFpeEpRVUZKTEVWQlFVVXNRMEZCUXl4RFFVRkRPMU5CUXpsRE8wbEJRMHdzUTBGQlF6dEpRVU5FTEV0QlFVc3NRMEZCUXl4UlFVRlJMRU5CUVVNc1NVRkJTU3hGUVVGRkxGRkJRVkU3VVVGRGVrSXNUMEZCVHl4SlFVRkpMRU5CUVVNc1dVRkJXU3hEUVVGRExFbEJRVWtzUlVGQlJTeFJRVUZSTEVOQlFVTXNRMEZCUXp0SlFVTTNReXhEUVVGRE8wbEJRMFFzV1VGQldTeERRVUZETEVsQlFVa3NSVUZCUlN4UlFVRlJPMUZCUTNaQ0xFMUJRVTBzUzBGQlN5eEhRVUZITEVsQlFVa3NRMEZCUXl4UlFVRlJMRU5CUVVNc1NVRkJTU3hEUVVGRExFTkJRVU03VVVGRGJFTXNTVUZCU1N4RFFVRkRMRXRCUVVzc1JVRkJSVHRaUVVOU0xFMUJRVTBzU1VGQlNTeExRVUZMTEVOQlFVTXNaMEpCUVdkQ0xFbEJRVWtzUlVGQlJTeERRVUZETEVOQlFVTTdVMEZETTBNN1VVRkRSQ3hKUVVGSkxFdEJRVXNzUTBGQlF5eEpRVUZKTEV0QlFVc3NhVU5CUVcxQ0xFTkJRVU1zVTBGQlV5eEZRVUZGTzFsQlF6bERMRTFCUVUwc1NVRkJTU3hMUVVGTExFTkJRVU1zUjBGQlJ5eEpRVUZKTEdsQ1FVRnBRaXhEUVVGRExFTkJRVU03VTBGRE4wTTdVVUZEUkN4SlFVRkpMRkZCUVZFc1NVRkJTU3hSUVVGUkxFdEJRVXNzVVVGQlVTeEZRVUZGTzFsQlEyNURMRTlCUVU4c1MwRkJTeXhEUVVGRExFOUJRVThzUTBGQlF6dFRRVU40UWp0aFFVTkpPMWxCUTBRc1QwRkJUeXhOUVVGTkxFTkJRVU1zU1VGQlNTeERRVUZETEV0QlFVc3NRMEZCUXl4UFFVRlBMRU5CUVVNc1EwRkJRenRUUVVOeVF6dEpRVU5NTEVOQlFVTTdTVUZEUkN4TFFVRkxMRU5CUVVNc1NVRkJTU3hEUVVGRExFbEJRVWs3VVVGRFdDeFBRVUZQTEVsQlFVa3NRMEZCUXl4UlFVRlJMRU5CUVVNc1NVRkJTU3hEUVVGRExFTkJRVU03U1VGREwwSXNRMEZCUXp0SlFVTkVMRkZCUVZFc1EwRkJReXhKUVVGSk8xRkJRMVFzVFVGQlRTeExRVUZMTEVkQlFVY3NTVUZCU1N4RFFVRkRMRkZCUVZFc1EwRkJReXhKUVVGSkxFTkJRVU1zUTBGQlF6dFJRVU5zUXl4SlFVRkpMRU5CUVVNc1MwRkJTeXhGUVVGRk8xbEJRMUlzVFVGQlRTeEpRVUZKTEV0QlFVc3NRMEZCUXl4blFrRkJaMElzU1VGQlNTeEZRVUZGTEVOQlFVTXNRMEZCUXp0VFFVTXpRenRSUVVORUxFMUJRVTBzUTBGQlF5eEhRVUZITzFsQlEwNHNTVUZCU1N4RlFVRkZMRXRCUVVzc1EwRkJReXhKUVVGSk8xbEJRMmhDTEdGQlFXRXNSVUZCUlN4SFFVRkhMRVZCUVVVc1EwRkJReXhMUVVGTE8xbEJRekZDTEdsQ1FVRnBRaXhGUVVGRkxFZEJRVWNzUlVGQlJTeERRVUZETEV0QlFVczdXVUZET1VJc1RVRkJUU3hGUVVGRkxFZEJRVWNzUlVGQlJTeERRVUZETEV0QlFVczdXVUZEYmtJc1VVRkJVU3hGUVVGRkxFZEJRVWNzUlVGQlJTeERRVUZETEV0QlFVczdXVUZEY2tJc1kwRkJZeXhGUVVGRkxFZEJRVWNzUlVGQlJTeERRVUZETEV0QlFVczdXVUZETTBJc1RVRkJUU3hGUVVGRkxFZEJRVWNzUlVGQlJTeERRVUZETEV0QlFVc3NRMEZCUXl4SlFVRkpMRXRCUVVzc2FVTkJRVzFDTEVOQlFVTXNTVUZCU1R0WlFVTnlSQ3hYUVVGWExFVkJRVVVzUjBGQlJ5eEZRVUZGTEVOQlFVTXNTMEZCU3l4RFFVRkRMRWxCUVVrc1MwRkJTeXhwUTBGQmJVSXNRMEZCUXl4VFFVRlRPMWxCUXk5RUxFbEJRVWtzUlVGQlJTeExRVUZMTEVOQlFVTXNUMEZCVHl4RFFVRkRMRU5CUVVNc1EwRkJReXhMUVVGTExFTkJRVU1zVDBGQlR5eERRVUZETEUxQlFVMHNRMEZCUXl4RFFVRkRMRU5CUVVNc1EwRkJRenRUUVVOcVJDeERRVUZETzFGQlEwWXNUMEZCVHl4RFFVRkRMRU5CUVVNN1NVRkRZaXhEUVVGRE8wbEJRMFFzUzBGQlN5eERRVUZETEU5QlFVOHNRMEZCUXl4SlFVRkpPMUZCUTJRc1QwRkJUeXhKUVVGSkxFTkJRVU1zVjBGQlZ5eERRVUZETEVsQlFVa3NRMEZCUXl4RFFVRkRPMGxCUTJ4RExFTkJRVU03U1VGRFJDeFhRVUZYTEVOQlFVTXNTVUZCU1R0UlFVTmFMRTFCUVUwc1MwRkJTeXhIUVVGSExFbEJRVWtzUTBGQlF5eFJRVUZSTEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNN1VVRkRiRU1zU1VGQlNTeERRVUZETEV0QlFVc3NSVUZCUlR0WlFVTlNMRTFCUVUwc1NVRkJTU3hMUVVGTExFTkJRVU1zWjBKQlFXZENMRWxCUVVrc1JVRkJSU3hEUVVGRExFTkJRVU03VTBGRE0wTTdVVUZEUkN4SlFVRkpMRXRCUVVzc1EwRkJReXhKUVVGSkxFdEJRVXNzYVVOQlFXMUNMRU5CUVVNc1NVRkJTU3hGUVVGRk8xbEJRM3BETEUxQlFVMHNTVUZCU1N4TFFVRkxMRU5CUVVNc1IwRkJSeXhKUVVGSkxGbEJRVmtzUTBGQlF5eERRVUZETzFOQlEzaERPMUZCUTBRc1QwRkJUeXhOUVVGTkxFTkJRVU1zU1VGQlNTeERRVUZETEV0QlFVc3NRMEZCUXl4UlFVRlJMRU5CUVVNc1EwRkJRenRKUVVOMlF5eERRVUZETzBsQlEwUXNTMEZCU3l4RFFVRkRMRTFCUVUwc1EwRkJReXhKUVVGSk8xRkJRMklzVDBGQlR5eEpRVUZKTEVOQlFVTXNWVUZCVlN4RFFVRkRMRWxCUVVrc1EwRkJReXhEUVVGRE8wbEJRMnBETEVOQlFVTTdTVUZEUkN4VlFVRlZMRU5CUVVNc1NVRkJTVHRSUVVOWUxFOUJRVThzU1VGQlNTeERRVUZETEZGQlFWRXNRMEZCUXl4SlFVRkpMRU5CUVVNc1MwRkJTeXhUUVVGVExFTkJRVU03U1VGRE4wTXNRMEZCUXp0SlFVTkVMRXRCUVVzc1EwRkJReXhUUVVGVExFTkJRVU1zU1VGQlNTeEZRVUZGTEU5QlFVODdVVUZEZWtJc1QwRkJUeXhKUVVGSkxFTkJRVU1zWVVGQllTeERRVUZETEVsQlFVa3NSVUZCUlN4UFFVRlBMRU5CUVVNc1EwRkJRenRKUVVNM1F5eERRVUZETzBsQlEwUXNZVUZCWVN4RFFVRkRMRWxCUVVrc1JVRkJSU3hQUVVGUE8xRkJRM1pDTEUxQlFVMHNSVUZCUlN4SFFVRkhMRWxCUVVrc01FSkJRVkVzUTBGQlF5eEpRVUZKTEVOQlFVTXNRMEZCUXp0UlFVTTVRaXhOUVVGTkxFdEJRVXNzUjBGQlJ5eEpRVUZKTEVOQlFVTXNVVUZCVVN4RFFVRkRMRVZCUVVVc1EwRkJReXhaUVVGWkxFVkJRVVVzUTBGQlF5eERRVUZETzFGQlF5OURMRWxCUVVrc1EwRkJReXhMUVVGTExFVkJRVVU3V1VGRFVpeE5RVUZOTEVsQlFVa3NTMEZCU3l4RFFVRkRMREpDUVVFeVFpeEpRVUZKTEVWQlFVVXNRMEZCUXl4RFFVRkRPMU5CUTNSRU8yRkJRMGtzU1VGQlNTeExRVUZMTEVOQlFVTXNTVUZCU1N4TFFVRkxMR2xEUVVGdFFpeERRVUZETEVsQlFVa3NSVUZCUlR0WlFVTTVReXhOUVVGTkxFbEJRVWtzUzBGQlN5eERRVUZETEdkRFFVRm5ReXhEUVVGRExFTkJRVU03VTBGRGNrUTdVVUZEUkN4TFFVRkxMRU5CUVVNc1VVRkJVU3hEUVVGRExFVkJRVVVzUTBGQlF5eGxRVUZsTEVWQlFVVXNRMEZCUXl4SFFVRkhPMWxCUTI1RExGRkJRVkVzUlVGQlJTeEpRVUZKTzFsQlEyUXNUMEZCVHp0WlFVTlFMRWxCUVVrc1JVRkJSU3hGUVVGRkxFTkJRVU1zVjBGQlZ5eEZRVUZGTzFsQlEzUkNMRTFCUVUwc1JVRkJSU3hMUVVGTE8xbEJRMklzU1VGQlNTeEZRVUZGTEdsRFFVRnRRaXhEUVVGRExFbEJRVWs3VTBGRGFrTXNRMEZCUXp0SlFVTk9MRU5CUVVNN1NVRkRSQ3hSUVVGUkxFTkJRVU1zU1VGQlNUdFJRVU5VTEVsQlFVa3NSMEZCUnl4SFFVRkhMRWxCUVVrc1EwRkJReXhWUVVGVkxFTkJRVU03VVVGRE1VSXNTVUZCU1N4SlFVRkpMRU5CUVVNc1ZVRkJWU3hEUVVGRExFZEJRVWNzUTBGQlF5eEZRVUZGTzFsQlEzUkNMRWxCUVVrc1IwRkJSeXhKUVVGSkxFTkJRVU1zVTBGQlV5eERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRPMU5CUXpWQ08xRkJRMFFzVFVGQlRTeE5RVUZOTEVkQlFVY3NTVUZCU1N4RFFVRkRMRXRCUVVzc1EwRkJReXhIUVVGSExFTkJRVU1zUTBGQlF5eE5RVUZOTEVOQlFVTXNRMEZCUXl4RFFVRkRMRVZCUVVVc1JVRkJSU3hEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZETzFGQlEyaEVMRXRCUVVzc1RVRkJUU3hMUVVGTExFbEJRVWtzVFVGQlRTeEZRVUZGTzFsQlEzaENMRWxCUVVrc1QwRkJUeXhIUVVGSExFdEJRVXNzVVVGQlVTeEZRVUZGTzJkQ1FVTjZRaXhQUVVGUExGTkJRVk1zUTBGQlF6dGhRVU53UWp0WlFVTkVMRWRCUVVjc1IwRkJSeXhIUVVGSExFTkJRVU1zVVVGQlVTeERRVUZETEV0QlFVc3NRMEZCUXl4RFFVRkRPMWxCUXpGQ0xFbEJRVWtzUTBGQlF5eEhRVUZITEVWQlFVVTdaMEpCUTA0c1QwRkJUeXhUUVVGVExFTkJRVU03WVVGRGNFSTdVMEZEU2p0UlFVTkVMRTlCUVU4c1IwRkJSeXhEUVVGRE8wbEJRMllzUTBGQlF6dERRVU5LTzBGQmJFMUVMRFJEUVd0TlF5SjkiXX0=